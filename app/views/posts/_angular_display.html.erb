<h1> ANGULAR START HERE </h1>

<div ng-controller="PostsCtrl" ng-init="query='<%= @posts %>'">
  <div id="div-posts" data-info-posts="<%= @posts %>"
    <input type="text" ng-model="query"/>
  	<select ng-model="order">
  	  <option value="title">Organise by title </option>
  		<option value="content">Organise by content </option>
  	</select>
    <div ng-repeat="post in posts | filter:{title: query} | orderBy:order">
      <p>
        <strong> {{ post.post.title }} </strong><br>
        {{ post.content }}
      </p>
    </div>
	</div>
</div>
<h1> ANGULAR STOP HERE </h1>

<script>
  var app = angular.module('MyApp', ['ngAnimate', 'ngRoute', 'ngResource'])

    app.controller('PostsCtrl',['$scope', function ($scope){
      var div = document.getElementById('div-posts');
        $scope.posts = {  title: div.getAttribute("data-info-posts")  };
    }]);

</script>
